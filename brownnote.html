<!doctype html>
<html lang="en">
  <head>
    <meta
  name="go-import"
  content="twos.dev
           git https://github.com/glacials/twos.dev"
/>
<meta
  name="go-source"
  content="twos.dev
           https://github.com/glacials/twos.dev
           https://github.com/glacials/twos.dev/tree/main{/dir}
           https://github.com/glacials/twos.dev/blob/main{/dir}/{file}#L{line}"
/>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<meta name="description" content="Brown Note" />
<link
  rel="alternate"
  type="application/rss+xml"
  title="twos.dev"
  href="/feed.rss"
/>
<link
  rel="alternate"
  type="application/atom+xml"
  title="twos.dev"
  href="/feed.atom"
/>
<title>Ben Carlsson / Brown Note</title>
<link rel="stylesheet" href="/style.css" />

<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css"
  integrity="sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmfnOl4rT9ZfRI7mLTdk1wblIUnrIq35nqwEvC"
  crossorigin="anonymous"
/>
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=2" />
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?v=2" />
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?v=2" />
<link rel="manifest" href="/site.webmanifest?v=2" />
<link rel="mask-icon" href="/safari-pinned-tab.svg?v=2" color="#5bbad5" />
<link rel="shortcut icon" href="/favicon.ico?v=2" />
<meta name="msapplication-TileColor" content="#da532c" />
<meta name="theme-color" content="#ffffff" />


  </head>

  <body>
    <div class="container">
      <nav class="primary"><div class="hierarchy">
      <div class="breadcrumb">
        <a href="/"><div class="nav-text">Ben Carlsson</div></a>
      </div></div>
    <div class="breadcrumb title">
      <a href="/brownnote.html"><h1>Brown Note</h1></a>
    </div></nav>

      <article>
        
        
        
        
        <html><head></head><body>

<p>I've been working on an iOS app recently,
which is new for me.
The app is called <a href="https://apps.apple.com/us/app/core-data-lab/id6479333983" target="_blank">Brown Note</a>
and it is a food journal designed to solve the biggest problem I have had with other food journal apps:
logging entries is so complex that my brain stops doing it.</p>

<h2>Customer Need</h2>

<p>I'm slow to realize biological correlations.
There are several weird things about my body,
so it's not always obvious that when I eat <code>A</code> it causes poor experience <code>B</code>.
Lots of things cause poor experience <code>B</code>,
and also poor experiences <code>C</code>, <code>D</code>, and <code>E</code>,
so I'm not always on the lookout.</p>

<p>It took me months just to realize that I didn't always have "stomach issues",
a phrase I'll use as a shorthand for some combination of urgent, painful, and/or frequent poops,
and that they might be fixable.</p>

<p>When my doctor suggested food journaling,
I was diligent about looking for a high-tech solution in the form of a mobile app,
and I found several.</p>

<p>Thus started a cycle:</p>

<ol>
<li>I choose a fantastic mobile app to use for food journaling.</li>
<li>I use it to log every meal and poop.</li>
<li>?</li>
<li>Weeks later, I realize I have stopped logging and completely forgetten about it.</li>
<li>Repeat from 1.</li>
</ol>

<p>As I tried more apps this way,
and became more conscious over time about my falling off the wagon,
I realized my issue was the friction of log entry.
I would be eating among friends,
or sitting down in pain,
and a lightweight thought of "I should log this" would brush over my arm
only to be dismissed<span style="font-family: sans-serif">—</span>"I'll log it when I'm free"<span style="font-family: sans-serif">—</span>and that would be the last thought I had on it.</p>

<p>I realized I needed to remove as much friction from the process as I could.
I would simplify my process so much that that light brushing over my arm would be a strong enough signal to initiate.</p>

<h2>Product Discovery</h2>

<p>I didn't initially mean to solve this problem for anyone but myself.
My first iteration on solving it was carrying a pen and a folded up piece of paper in my pocket,
writing down everything that went into and out of me,
occasionally copying them into a spreadsheet by hand,
and doing some eyeball analysis<span style="font-family: sans-serif">—</span>and later some Python scripting<span style="font-family: sans-serif">—</span>to find problem foods.</p>

<p>I did this because I thought having a physical pen would literally poke me whenever I sit down to do my business,
and it did,
but there was something magical about how brief each log entry needed to be that allowed me to build a routine around it.</p>

<p>Version 2 was opening the aforementioned spreadsheet on my phone and directly logging there,
but this slog quickly led me to version 3,
an iOS Shortcut placed on my Home Screen that prompts for a single line of text,
which it appends to the spreadsheet.</p>

<h2>Simple Works</h2>

<p>All I'm entering in these lines is plain text like
"Good poop",
"Bad poop",
or a few words describing a food item.
In some iterations,
I didn't even include a date;
order was enough.</p>

<blockquote>
<ul>
<li>Bad poop</li>
<li>Mango lassi</li>
<li>Chinese</li>
<li>Taco Bell</li>
<li>CookUnity</li>
<li>Soylent</li>
<li>Good poop</li>
<li>Taco Bell</li>
<li>Whiskey</li>
<li>Good poop</li>
<li>Chinese</li>
<li>Bubble tea</li>
</ul>
</blockquote>

<p><em>An excerpt from my v2 spreadsheet.</em></p>

<p>I'm not separating "foods" and "poops" into two categories of thing.
I'm not typing out a bunch of tags or ingredients with every food item.
If I zero in on a food that's too ambiguous<span style="font-family: sans-serif">—</span>say, "pizza"<span style="font-family: sans-serif">—</span>I <em>then and only then</em> will start logging its components:
cheese, bread, tomatoes.
Until and unless that happens,
simplicity is queen because keeping the routine going is more important than anything.</p>

<h2>Into Swift</h2>

<p>In the background of all this I'd become more and more interested in native iOS development,
for <a href="/apple.html">several</a> <a href="https://whatsinstandard.com/" target="_blank">unrelated</a> reasons.</p>

<p>After stalling out trying to make an unrelated app with a lot of complexity,
I figured this was the perfect do-over to start simple.
I started learning Swift and SwiftUI again, this time with SwiftData too.</p>

<p>The result is <a href="https://apps.apple.com/us/app/core-data-lab/id6479333983" target="_blank">Brown Note</a>.</p>

<p><img src="/img/brownnote-home-ios-light.png" alt="A screenshot of the Brown Note app, on a screen listing a few days' worth of food journal entries."/>
<img src="/img/brownnote-enter-ios-light.png" alt="A screenshot of the Brown Note app, on a screen asking the user to input a food item."/></p>

<p><img src="/img/brownnote-chart-ios-light.png" alt="A screenshot of the Brown Note app, on a screen showing a bar chart of good poops vs. bad poops that happened soon after chai latte entries."/></p>

<p><em>Brown Note is available on the <a href="https://apps.apple.com/us/app/core-data-lab/id6479333983" target="_blank">App Store</a> for iOS.</em></p>

<p>It was insanely easy to get Brown Note to a stage where I can use it for personal logging.
The most complex parts of the app are the analytics and insights,
which aren't part of its everyday use cases and so don't block me from onboarding as a user.</p>

<p>This helped immensely with design,
as I would personally use the app several times a day,
noting every rough edge and feature need.</p>

<p>I'm still in constant development,
but the simple use cases are covered.
As I build out more advanced ones, I'm being cognizant about keeping the logging experience dead simple.</p>

<p>For example,
I'm building a feature where the app can understand food components
(e.g. <code>latte</code> contains <code>milk</code> and <code>coffee</code>)
but I'm shielding the logging experience from being impacted by it.
When the app needs more info from you,
it will ask you asynchronously.</p>

<p>Let me know what you think,
or join the <a href="https://testflight.apple.com/join/HgAgdX48" target="_blank">TestFlight</a> group to give me some feedback before proper release.</p>
</body></html>
      </article>
      <footer>
        <p>
          <small>
            <i>
              
                source:
                <a
                  href="https://github.com/glacials/twos.dev/blob/main/src/cold/brownnote.md"
                  target="_blank"
                  >src/cold/brownnote.md</a
                >
              
              <br />
              
                published
                2024 March
                
              
            </i>
          </small>
        </p>
      </footer>
    </div>
    <script
  crossorigin="anonymous"
  defer
  integrity="sha384-X/XCfMm41VSsqRNQgDerQczD69XqmjOOOwYQvr/uuC+j4OPoNhVgjdGFwhvN02Ja"
  src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js"
></script>
<script
  crossorigin="anonymous"
  defer
  integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR"
  onload="renderMathInElement(document.body);"
  src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js"
></script>
<script>
  
  if (document.location.hostname == "localhost") {
    const wsurl = "ws://localhost:8100/ws";
    const socket = new WebSocket(wsurl);
    socket.addEventListener("message", (event) => location.reload());
    socket.addEventListener("close", (event) => {
      console.log("backup initiating");
      setInterval(() => {
        const sock = new WebSocket("ws://localhost:8100/ws");
        sock.addEventListener("open", (event) => {
          location.reload();
        });
      }, 1000);
    });
  }

  
  
  
  
  
  
  
  
  
  if (document.location.pathname === "/winter") {
    window.location.replace("https://pkg.go.dev/twos.dev/winter");
  }

  
  document.addEventListener("keydown", (event) => {
    switch (event.keyCode) {
      case 37: 
        const moveLeftFrom = document.querySelector(
          ".gallery-item input:checked",
        );
        const moveLeftTo = document.querySelector(
          ".gallery-item:has(+ .gallery-item input:checked) input[type=checkbox]",
        );
        if (moveLeftFrom) {
          moveLeftFrom.checked = false;
        }
        if (moveLeftTo) {
          moveLeftTo.checked = true;
        }
        break;
      case 39: 
        const moveRightFrom = document.querySelector(
          ".gallery-item input:checked",
        );
        const moveRightTo = document.querySelector(
          ".gallery-item:has(input:checked) + .gallery-item input[type=checkbox]",
        );
        if (moveRightFrom) {
          moveRightFrom.checked = false;
        }
        if (moveRightTo) {
          moveRightTo.checked = true;
        }
        break;
      case 27: 
        const current = document.querySelector(".gallery-item input:checked");
        if (current) {
          current.checked = false;
        }
        break;
    }
  });
</script>

  </body>
</html>
