<!doctype html>
<html lang="en">
  <head>
    {{ template "head" . }}
  </head>

  <body>
    {{ template "nav" . }}
    <div class="container">
      <header>
        {{ if .IsDraft }}
          <div style="background-color: var(--bg-c); text-align: center">
            DRAFT
          </div>
        {{ end }}
        {{ if and (.IsPost) (not .CreatedAt.IsZero) }}
          <small style="text-align: center; display: block">
            <i>
              published
              {{ .CreatedAt.Format "2006 January" }}{{ if not .UpdatedAt.IsZero }}
                / last updated
                {{ .UpdatedAt.Format "2006 January" }}
              {{ end }}</i
            >
          </small>
        {{ end }}
        {{ with .Category }}
          <div
            style="text-align: center; text-transform: uppercase; margin-top: 2em"
          >
            — a {{ . }} —
          </div>
        {{ end }}
      </header>
      <article>
        {{ template "body" . }}
      </article>
      <footer>
        <p>
          <small>
            <i>
              {{ with src }}
                source:
                <a href="https://github.com/glacials/twos.dev/blob/main/{{ . }}"
                  >{{ . }}</a
                >
              {{ else }}
                <a href="https://github.com/glacials/twos.dev">Source</a>
              {{ end }}
              <br />
              {{ if not .CreatedAt.IsZero }}
                published
                {{ .CreatedAt.Format "2006 January" }}
                {{ if not .UpdatedAt.IsZero }}
                  / last updated
                  {{ .UpdatedAt.Format "2006 January" }}
                {{ end }}
              {{ end }}
            </i>
          </small>
        </p>
      </footer>
    </div>
    <nav>
      <div class="back">
        {{ if ne .Shortname "index" }}
          {{ with parent }}
            &larr; <a href="{{ .Source }}">{{ .Shortname }}</a>
          {{ else }}
            &larr; <a href="/">twos.dev</a>
          {{ end }}
        {{ end }}
      </div>
    </nav>
  </body>
</html>
